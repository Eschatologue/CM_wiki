@use "./typeset";
@use "../utility/convert";
@use "../palette/accent";

/*------------------------------------------------------- 
    Tables
--------------------------------------------------------*/

$paddings: 16px;
$paddingScale: 6px;
$th-padding: $paddingScale * 1.4;

.md-typeset {
    /* Table Colour */
    --md-table-color--light: hsla(0, 0%, 100%, 0.025);
    --md-table-color--hover: hsla(0, 0%, 100%, 0.05);

    & table:not([class]) {
        --table-font-size: #{calc(var(--default-font-size) * 0.9)};

        th,
        td {
            padding: #{convert.px2em($paddingScale)} #{convert.px2em($paddings)};
            min-width: #{convert.px2em(1px)};
        }

        th {
            background-color: var(--md-default-bg-color) !important;
            
            font-size: var(--table-font-size);
            font-weight: bold !important;
            text-transform: capitalize !important;

            color: var(--md-text-color);
            border-bottom: #{convert.px2rem(3px)} solid var(--md-typeset-table-color);

            padding: #{convert.px2em($th-padding)} #{convert.px2em($paddings)};

            vertical-align: bottom;
        }

        td {
            font-size: calc(var(--table-font-size) * 0.9);
            border-top: none;
            border-bottom: #{convert.px2rem(1px)} solid var(--md-typeset-table-color);
            vertical-align: middle;

            b,
            strong {
                font-weight: calc(var(--default-font-weight, 400) * 1.8); // Fallback for default weight
            }
        }

        tbody tr {
            transition: background-color 125ms;

            // Table row on hover
            &:hover {
                background-color: var(--md-typeset-table-color--light);
                box-shadow: 0 px2rem(1px) 0 var(--md-default-bg-color) inset;
            }
        }

        // Adjust font sizes for smaller screens
        @media screen and (max-width: 720px) {
            th {
                font-size: calc(var(--table-font-size) * 0.9);
            }

            td {
                font-size: calc(var(--table-font-size) * 0.8);
            }
        }

        // Preserve striped rows
        tr:nth-child(even) {
            background-color: transparent; // Adjust for striped colour
        }

        tr:nth-child(odd) {
            background-color: var(--md-table-color--light);
        }
    }

    // BEM Element for tables within .md-typeset
    &__table {
        width: 100%;

        table:not([class]) {
            margin: #{convert.px2rem(0px)};
            display: table;
            border-color: transparent !important;
        }
    }
}
